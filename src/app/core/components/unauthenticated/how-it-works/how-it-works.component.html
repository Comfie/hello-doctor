<!-- how-it-works.component.html -->
<div class="bg-white">
  <!-- Hero Section -->
  <div class="bg-indigo-700">
    <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 text-center">
      <h1 class="text-3xl font-extrabold tracking-tight text-white sm:text-4xl lg:text-5xl">
        How Hello Doctor Works
      </h1>
      <p class="mt-6 max-w-3xl mx-auto text-xl text-indigo-200">
        A seamless healthcare experience for patients, pharmacies, and doctors
      </p>
    </div>
  </div>

  <!-- Steps Section -->
  <div class="relative py-16 bg-gray-50 overflow-hidden">
    <div class="hidden lg:block lg:absolute lg:inset-y-0 lg:h-full lg:w-full">
      <div class="relative h-full mx-auto max-w-7xl" aria-hidden="true">
        <div class="absolute transform rotate-45 bg-indigo-100 rounded-full h-96 w-96 -right-20 -top-20"></div>
        <div class="absolute transform rotate-45 bg-indigo-200 rounded-full h-80 w-80 -left-28 bottom-10"></div>
      </div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Simple Process</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
          From prescription to medication in 4 easy steps
        </p>
      </div>

      <div class="mt-16">
        <div class="lg:grid lg:grid-cols-2 lg:gap-8">
          <div class="relative mb-12 lg:mb-0 lg:pr-8">
            <div class="relative space-y-10">
              <div *ngFor="let step of steps; let i = index" class="flex group">
                <div class="flex-shrink-0">
                  <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-600 text-white">
                    <span class="text-lg font-bold">{{i + 1}}</span>
                  </div>
                </div>
                <div class="ml-4">
                  <h3 class="text-lg font-medium text-gray-900 group-hover:text-indigo-600 transition-colors">
                    {{step.title}}
                  </h3>
                  <p class="mt-2 text-base text-gray-500">
                    {{step.description}}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="relative lg:mt-0">
            <div class="relative rounded-lg shadow-xl overflow-hidden">
              <div class="relative aspect-w-16 aspect-h-9">
                <img class="w-full h-full object-cover" src="/assets/how-it-works/process-flow.jpg" alt="Hello Doctor workflow process">
              </div>
              <div class="absolute inset-0 bg-indigo-600 mix-blend-multiply" aria-hidden="true"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Detailed Steps with Images -->
  <div class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="space-y-20">
        <div *ngFor="let step of steps; let i = index" class="flex flex-col lg:flex-row lg:even:flex-row-reverse lg:items-center lg:gap-16">
          <div class="lg:w-1/2 mb-8 lg:mb-0">
            <div class="relative rounded-lg shadow-xl overflow-hidden">
              <img class="w-full h-auto" [src]="step.image" [alt]="step.title">
              <div class="absolute inset-0 bg-indigo-600 mix-blend-multiply" aria-hidden="true"></div>
            </div>
          </div>
          <div class="lg:w-1/2">
            <div class="flex items-center">
              <div class="flex items-center justify-center h-12 w-12 rounded-md bg-indigo-600 text-white">
                <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="step.icon"></path>
                </svg>
              </div>
              <span class="ml-4 text-lg font-medium text-gray-900">Step {{i + 1}}</span>
            </div>
            <h3 class="mt-4 text-3xl font-bold text-gray-900">{{step.title}}</h3>
            <p class="mt-4 text-lg text-gray-500">
              {{step.description}}
            </p>
            <div class="mt-6">
              <div *ngIf="step.roles.includes('patient')" class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800 mr-2 mb-2">
                For Patients
              </div>
              <div *ngIf="step.roles.includes('pharmacy')" class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800 mr-2 mb-2">
                For Pharmacies
              </div>
              <div *ngIf="step.roles.includes('doctor')" class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800 mr-2 mb-2">
                For Doctors
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- User Type Features -->
  <div class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Designed For</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
          Tailored experiences for every user
        </p>
        <p class="mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto">
          Hello Doctor provides specialized tools for each type of user in the healthcare ecosystem.
        </p>
      </div>

      <div class="mt-20">
        <div class="grid grid-cols-1 gap-12 md:grid-cols-3">
          <div *ngFor="let user of userTypes" class="pt-6">
            <div class="flow-root bg-white rounded-lg px-6 pb-8 h-full shadow-md hover:shadow-lg transition-shadow">
              <div class="-mt-6">
                <div>
                  <span class="inline-flex items-center justify-center p-3 bg-indigo-600 rounded-md shadow-lg">
                    <svg class="h-6 w-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" [attr.d]="user.icon"></path>
                    </svg>
                  </span>
                </div>
                <h3 class="mt-8 text-lg font-medium text-gray-900 tracking-tight">{{user.name}}</h3>
                <p class="mt-2 text-base text-gray-600">
                  {{user.description}}
                </p>
                <ul class="mt-6 space-y-4">
                  <li *ngFor="let feature of user.features" class="flex items-start">
                    <svg class="flex-shrink-0 h-5 w-5 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span class="ml-3 text-gray-600">{{feature}}</span>
                  </li>
                </ul>
                <div class="mt-8">
                  <a [href]="'/signup?type=' + user.name.toLowerCase()" class="text-base font-medium text-indigo-600 hover:text-indigo-500">
                    Get started as {{user.name}} <span aria-hidden="true">â†’</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FAQ Section -->
  <div class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="lg:text-center mb-12">
        <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Questions</h2>
        <p class="mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl">
          Frequently asked questions
        </p>
      </div>

      <div class="max-w-3xl mx-auto divide-y-2 divide-gray-200">
        <div *ngFor="let item of faqs" class="py-6">
          <details class="group">
            <summary class="flex justify-between items-center cursor-pointer list-none">
              <h3 class="text-lg font-medium text-gray-900 group-hover:text-indigo-600 transition-colors">
                {{item.question}}
              </h3>
              <svg class="flex-shrink-0 ml-3 h-5 w-5 text-gray-400 group-open:text-indigo-500 group-open:rotate-180 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </summary>
            <div class="mt-3 text-gray-600">
              <p>{{item.answer}}</p>
            </div>
          </details>
        </div>
      </div>

      <div class="mt-12 text-center">
        <p class="text-base text-gray-500">
          Still have questions? <a href="/contact" class="font-medium text-indigo-600 hover:text-indigo-500">Contact our support team</a>
        </p>
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="bg-indigo-700">
    <div class="max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:py-16 lg:px-8 lg:flex lg:items-center lg:justify-between">
      <h2 class="text-3xl font-extrabold tracking-tight text-white sm:text-4xl">
        <span class="block">Ready to transform your healthcare experience?</span>
        <span class="block text-indigo-200">Sign up now and get started in minutes.</span>
      </h2>
      <div class="mt-8 flex lg:mt-0 lg:flex-shrink-0">
        <div class="inline-flex rounded-md shadow">
          <a href="/signup" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-indigo-600 bg-white hover:bg-indigo-50">
            Get started
          </a>
        </div>
        <div class="ml-3 inline-flex rounded-md shadow">
          <a href="/contact" class="inline-flex items-center justify-center px-5 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-800 hover:bg-indigo-700">
            Contact sales
          </a>
        </div>
      </div>
    </div>
  </div>
</div>